# wxrweb - 网页资源下载器

一款功能强大的Chrome扩展，用于下载完整网页及其所有资源（CSS、JavaScript、图片、字体等），并保持原始文件结构，实现完美的离线浏览体验。特别优化了对中文编码的处理，解决了静态网页资源路径重写问题。

![wxrweb界面示例](https://placeholder-for-screenshot.png)

## ✨ 特性

- **完整资源下载**：抓取HTML、CSS、JavaScript、图片和字体等所有资源
- **保持文件结构**：自动组织为清晰的文件夹结构（css/、js/、images/、fonts/）
- **智能路径重写**：自动修改所有资源引用路径，确保本地浏览无误
- **中文编码支持**：专门处理中文网页编码问题，告别乱码困扰
- **资源清单生成**：创建README.html导航文件，便于查看所有下载的资源
- **进度可视化**：实时显示下载进度和状态信息
- **简洁用户界面**：直观的操作选项，一键下载当前网页

## 📦 安装

### 方法1：从Chrome网上应用店安装

1. 访问Chrome网上应用店（待发布）
2. 点击"添加到Chrome"按钮

### 方法2：开发者模式安装

1. 下载此仓库代码并解压
2. 打开Chrome浏览器，输入：`chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择解压后的文件夹

## 🚀 使用方法

1. 浏览至您想要下载的网页
2. 点击Chrome工具栏中的wxrweb图标
3. 在弹出窗口中选择要下载的资源类型（默认全选）
4. 点击"下载当前页面"按钮
5. 等待下载完成
6. 打开下载的index.html文件，即可离线浏览完整网页

## 📂 下载文件结构

```
网页标题/
├── index.html      // 主HTML文件
├── README.html     // 资源清单和导航
├── css/            // 所有CSS样式表
├── js/             // 所有JavaScript文件
├── images/         // 所有图片资源
└── fonts/          // 所有字体文件
```

## 🔧 技术实现

wxrweb由以下关键组件组成：

- **popup.html/js/css**：提供用户界面，允许选择下载选项
- **content.js**：在目标页面中运行，负责分析和收集资源
- **background.js**：处理文件下载等需要特权的操作

### 核心工作流程

1. **资源分析**：使用DOM API分析当前页面结构
2. **资源收集**：识别并收集所有类型的资源URL
3. **资源下载**：通过fetch API下载每个资源
4. **路径重写**：修改所有资源引用路径以支持本地访问
5. **文件保存**：使用chrome.downloads API保存所有文件

## ⚠️ 已知限制

- **动态内容**：无法下载JavaScript动态生成的内容
- **登录验证**：某些需要登录的网站在本地打开时可能会跳转到登录页面
- **浏览器API限制**：每个资源需单独确认下载
- **跨域资源**：某些严格限制跨域的资源可能无法下载

## 🔜 未来计划

- [ ] 实现单一ZIP文件下载，避免多次确认下载提示
- [ ] 添加选项禁用身份验证重定向
- [ ] 支持下载动态加载的资源
- [ ] 添加自定义下载选项
- [ ] 为特定网站优化下载体验

## 🤝 贡献

欢迎贡献代码、报告问题或提出新功能建议！请遵循以下步骤：

1. Fork本仓库
2. 创建您的特性分支 (`git checkout -b feature/amazing-feature`)
3. 提交您的更改 (`git commit -m 'Add some amazing feature'`)
4. 推送到分支 (`git push origin feature/amazing-feature`)
5. 开启一个Pull Request

## 📄 许可证

本项目采用MIT许可证 - 详细信息请查看 [LICENSE](LICENSE) 文件

## 👏 鸣谢

- 感谢所有开源项目的贡献者
- 特别感谢[名称]提供的灵感和建议

---

**开发者:** wxrweb团队  
**联系方式:** your-email@example.com  
**版本:** 1.0.0
